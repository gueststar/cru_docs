<!DOCTYPE html>
<html lang="en" style="background: var(--bs-dark);">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
<link href="bootstrap.min.css" rel="stylesheet">
<title>cru manual</title>
</head>
<body style="background-color: var(--bs-dark);color: var(--bs-white);margin: 40px 0px;">
<div class="container" style="/*background: var(--bs-gradient);*/">
<div class="row">
<div class="col-5 col-sm-5 col-md-4" style="height: 32px;"><h5 style="color: var(--bs-gray);">CRU_FILTER (7)</h5></div>
<div class="col-2 col-sm-2 col-md-4"><h5 class="text-center" style="color: var(--bs-gray);">CRU MANUAL</h5></div>
<div class="col-5 col-sm-5 col-md-4"><h5 class="text-end" style="color: var(--bs-gray);">CRU_FILTER (7)</h5></div>
</div><div><p></p></div>
<h6 style="color: #ff5c5c;">NAME</h6>
<p style="margin: 0px 40px 16px;">
cru_filter - specification for selectively removing edges and vertices
</p>
<h6 style="color: #ff5c5c;">SYNOPSIS</h6>
<p style="margin: 0px 40px 16px;" class="font-monospace">
#include &lt;cru/cru.h&gt;
</p><p style="margin: 0px 40px 16px;" class="font-monospace">
typedef struct
<a class="font-monospace link-light" href="cru_filter.html" style="color: #5c76ff;text-decoration: inherit">cru_filter_s</a>
<br>
{
<br>
&ensp;&ensp;&ensp;struct
<a class="font-monospace link-light" href="cru_zone.html" style="color: #5c76ff;text-decoration: inherit">cru_zone_s</a>
<strong class="font-monospace" style="color: #45b74a;">fi_zone</strong>;
<br>
&ensp;&ensp;&ensp;struct
<a class="font-monospace link-light" href="cru_kernel.html" style="color: #5c76ff;text-decoration: inherit">cru_kernel_s</a>
<strong class="font-monospace" style="color: #45b74a;">fi_kernel</strong>;
<br>
&ensp;&ensp;&ensp;struct
<a class="font-monospace link-light" href="cru_order.html" style="color: #5c76ff;text-decoration: inherit">cru_order_s</a>
<strong class="font-monospace" style="color: #45b74a;">fi_order</strong>;
<br>
} *<a class="font-monospace link-light" href="cru_filter.html" style="color: #5c76ff;text-decoration: inherit">cru_filter</a>;
</p>
<h6 style="color: #ff5c5c;">DESCRIPTION</h6>
<p style="margin: 0px 40px 16px;">
This structure parameterizes the
<a class="font-monospace link-light" href="cru_filtered.html" style="color: #5c76ff;text-decoration: inherit">cru_filtered</a>
library function with necessary information initialized by the
application to remove edges or vertices from a graph selectively based
on user-defined criteria. Activities can be restricted to a section
of the graph by the
<a class="font-monospace link-light" href="cru_zone.html" style="color: #5c76ff;text-decoration: inherit">cru_zone</a>
structure in the
<strong class="font-monospace" style="color: #45b74a;">fi_zone</strong>
field. Alternatively, the
<strong class="font-monospace" style="color: #45b74a;">fi_zone</strong>
field may be omitted or zero-filled, in which case the whole graph is
affected.
</p>
<p style="margin: 0px 40px 16px;">
The criteria for vertex removal are defined by the
<a class="font-monospace link-light" href="cru_prop.html" style="color: #5c76ff;text-decoration: inherit">cru_prop</a>
structure in the
<strong class="font-monospace" style="color: #45b74a;">fi_kernel.v_op</strong>
field. For each vertex in the graph, a test property is evaluated
according to this structure with the usual
<a class="font-monospace link-light" href="cru_prop.html" style="color: #5c76ff;text-decoration: inherit">cru_prop</a>
calling conventions:
</p>
<ul style="margin: 0px 40px 16px;"><li>
The results of a fold over each of the incoming and the
outgoing sets of edges, if defined respectively in the
<strong class="font-monospace" style="color: #45b74a;">fi_kernel.v_op.incident</strong>
or
<strong class="font-monospace" style="color: #45b74a;">fi_kernel.v_op.outgoing</strong>
structures, are passed respectively as the left
and right operands to the ternary operator referenced by the
<strong class="font-monospace" style="color: #45b74a;">fi_kernel.v_op.vertex.map</strong>
field, with the vertex passed as the middle operand.
</li><li>
If the ternary operator returns
NULL,
then the vertex under consideration is deleted from the graph. If it
returns any other value, the vertex is kept.
</li><li>
The
<strong class="font-monospace" style="color: #45b74a;">fi_kernel.v_op.vertex.reduction</strong>
field and the
<strong class="font-monospace" style="color: #45b74a;">fi_kernel.v_op.vertex.vacuous_case</strong>
field
are not used and may be omitted or initialized to
NULL.
</li></ul>
<p style="margin: 0px 40px 16px;">
Alternatively, if the
<strong class="font-monospace" style="color: #45b74a;">fi_kernel.v_op.vertex.map</strong>
field is omitted or NULL but at least one of the fold structures above
is initialized, then the criterion for vertex retention devolves to
the disjunction of their results.  That is, if either yields a result
other than NULL, then the vertex is kept.
</p>
<p style="margin: 0px 40px 16px;">
The criteria for edge removal are defined by the
<a class="font-monospace link-light" href="cru_fold.html" style="color: #5c76ff;text-decoration: inherit">cru_fold</a>
structure in the
<strong class="font-monospace" style="color: #45b74a;">fi_kernel.e_op</strong>
field.
</p>
<ul style="margin: 0px 40px 16px;"><li>
When each vertex in the graph is visited, if a decision to keep it is
made as described above, then any of its outgoing edges connected to
a vertex that is also being kept is tested.
</li><li>
For each edge being tested, the ternary operator referenced through
the
<strong class="font-monospace" style="color: #45b74a;">fi_kernel.e_op.map</strong>
field is passed the vertex being visited as the left operand, edge
label as its middle operand, and the adjacent vertex via that edge as
the right operand.
</li></ul>
<p style="margin: 0px 40px 16px;">
What happens next depends on whether an ordering is defined by the
<a class="font-monospace link-light" href="cru_order.html" style="color: #5c76ff;text-decoration: inherit">cru_order</a>
structure in the
<strong class="font-monospace" style="color: #45b74a;">fi_order</strong>
field or whether the field is zero-filled.
</p>
<ul style="margin: 0px 40px 16px;"><li>
If no ordering is defined, then each
edge being tested is deleted whenever the
<strong class="font-monospace" style="color: #45b74a;">fi_kernel.e_op.map</strong>
operator returns
NULL.
</li><li>
If an ordering is defined in the
<strong class="font-monospace" style="color: #45b74a;">fi_order</strong>
field, then the edges local to the vertex being visited are partitioned
into classes based on equivalence of their labels under the ordering,
and each class is reduced with the
<strong class="font-monospace" style="color: #45b74a;">fi_kernel.e_op.reduction</strong>
field following the usual
<a class="font-monospace link-light" href="cru_fold.html" style="color: #5c76ff;text-decoration: inherit">cru_fold</a>
calling conventions. If the result of the reduction is
NULL,
then all edges in the class are deleted. Otherwise, all are kept.
</li></ul>
<p style="margin: 0px 40px 16px;">
It is acceptable to omit either or both fields of the kernel.
</p>
<ul style="margin: 0px 40px 16px;"><li>
If the
<strong class="font-monospace" style="color: #45b74a;">fi_kernel.v_op</strong>
field is omitted or zero-filled, no vertices are deleted directly, but
may be deleted as a side effect of becoming unreachable if their
incoming edges are deleted.
</li><li>
If the
<strong class="font-monospace" style="color: #45b74a;">fi_kernel.e_op</strong>
field is omitted or zero-filled, no edges are deleted directly, but
may be deleted as a side effect of being connected to a deletable
vertex.
</li><li>
If both fields are omitted or zero-filled, nothing is deleted.
</li></ul>
<h6 style="color: #ff5c5c;">ERRORS</h6>
<p style="margin: 0px 40px 16px;">
If an ordering is defined by the
<strong class="font-monospace" style="color: #45b74a;">fi_order</strong>
field but no edge filter is defined by
<strong class="font-monospace" style="color: #45b74a;">fi_kernel.e_op</strong>
field, then an error of
<strong class="font-monospace" style="color: #45b74a;">CRU_INCFIL</strong>
is reported by the
<a class="font-monospace link-light" href="cru_filtered.html" style="color: #5c76ff;text-decoration: inherit">cru_filtered</a>
function, for an inconsistent
<a class="font-monospace link-light" href="cru_filter.html" style="color: #5c76ff;text-decoration: inherit">cru_filter</a>
structure.
</p>
<h6 style="color: #ff5c5c;">NOTES</h6>
<p style="margin: 0px 40px 16px;">
It is not impossible for vertices outside of a zone of the graph
restricted by the
<strong class="font-monospace" style="color: #45b74a;">fi_zone</strong>
to be affected by filtering within the zone.
</p>
<ul style="margin: 0px 40px 16px;"><li>
If the zone is defined as the reachable segment in the backward
direction from an initial vertex, and edges originating inside the
zone but terminating outside it are deleted, then their termini could
become unreachable and therefore deleted despite being outside the
zone.
</li><li>
If the zone is defined as the reachable segment in the forward
direction from an initial vertex, then edges originating outside the
zone but terminating inside it could be deleted due to their termini
being deleted, thereby reducing the number of outgoing edges seen by
vertex outside the zone.
</li></ul>
<h6 style="color: #ff5c5c;">FILES</h6>
<p style="margin: 0px 40px 16px;">
<em>/usr/local/include/cru/data_types.h</em>
</p>
<p style="margin: 0px 40px 16px;">
<em>/usr/local/include/cru/error_codes.h</em>
</p>
<h6 style="color: #ff5c5c;">SEE ALSO</h6>
<p style="margin: 0px 40px 16px;">
<a class="font-monospace link-light" href="cru.html" style="color: #5c76ff;text-decoration: inherit">cru</a>,
<a class="font-monospace link-light" href="cru_bop.html" style="color: #5c76ff;text-decoration: inherit">cru_bop</a>,
<a class="font-monospace link-light" href="cru_bpred.html" style="color: #5c76ff;text-decoration: inherit">cru_bpred</a>,
<a class="font-monospace link-light" href="cru_builder.html" style="color: #5c76ff;text-decoration: inherit">cru_builder</a>,
<a class="font-monospace link-light" href="cru_built.html" style="color: #5c76ff;text-decoration: inherit">cru_built</a>,
<a class="font-monospace link-light" href="cru_cbop.html" style="color: #5c76ff;text-decoration: inherit">cru_cbop</a>,
<a class="font-monospace link-light" href="cru_classifier.html" style="color: #5c76ff;text-decoration: inherit">cru_classifier</a>,
<a class="font-monospace link-light" href="cru_class_of.html" style="color: #5c76ff;text-decoration: inherit">cru_class_of</a>,
<a class="font-monospace link-light" href="cru_class_size.html" style="color: #5c76ff;text-decoration: inherit">cru_class_size</a>,
<a class="font-monospace link-light" href="cru_composed.html" style="color: #5c76ff;text-decoration: inherit">cru_composed</a>,
<a class="font-monospace link-light" href="cru_composer.html" style="color: #5c76ff;text-decoration: inherit">cru_composer</a>,
<a class="font-monospace link-light" href="cru_connect.html" style="color: #5c76ff;text-decoration: inherit">cru_connect</a>,
<a class="font-monospace link-light" href="cru_connector.html" style="color: #5c76ff;text-decoration: inherit">cru_connector</a>,
<a class="font-monospace link-light" href="cru_cqop.html" style="color: #5c76ff;text-decoration: inherit">cru_cqop</a>,
<a class="font-monospace link-light" href="cru_crossed.html" style="color: #5c76ff;text-decoration: inherit">cru_crossed</a>,
<a class="font-monospace link-light" href="cru_crosser.html" style="color: #5c76ff;text-decoration: inherit">cru_crosser</a>,
<a class="font-monospace link-light" href="cru_ctop.html" style="color: #5c76ff;text-decoration: inherit">cru_ctop</a>,
<a class="font-monospace link-light" href="cru_ctop_pair.html" style="color: #5c76ff;text-decoration: inherit">cru_ctop_pair</a>,
<a class="font-monospace link-light" href="cru_ctop_quad.html" style="color: #5c76ff;text-decoration: inherit">cru_ctop_quad</a>,
<a class="font-monospace link-light" href="cru_data_types.html" style="color: #5c76ff;text-decoration: inherit">cru_data_types</a>,
<a class="font-monospace link-light" href="cru_deduplicated.html" style="color: #5c76ff;text-decoration: inherit">cru_deduplicated</a>,
<a class="font-monospace link-light" href="cru_destructor.html" style="color: #5c76ff;text-decoration: inherit">cru_destructor</a>,
<a class="font-monospace link-light" href="cru_destructor_pair.html" style="color: #5c76ff;text-decoration: inherit">cru_destructor_pair</a>,
<a class="font-monospace link-light" href="cru_edge_count.html" style="color: #5c76ff;text-decoration: inherit">cru_edge_count</a>,
<a class="font-monospace link-light" href="cru_fabricated.html" style="color: #5c76ff;text-decoration: inherit">cru_fabricated</a>,
<a class="font-monospace link-light" href="cru_fabricator.html" style="color: #5c76ff;text-decoration: inherit">cru_fabricator</a>,
<a class="font-monospace link-light" href="cru_filtered.html" style="color: #5c76ff;text-decoration: inherit">cru_filtered</a>,
<a class="font-monospace link-light" href="cru_fold.html" style="color: #5c76ff;text-decoration: inherit">cru_fold</a>,
<a class="font-monospace link-light" href="cru_free_kill_switch.html" style="color: #5c76ff;text-decoration: inherit">cru_free_kill_switch</a>,
<a class="font-monospace link-light" href="cru_free_later.html" style="color: #5c76ff;text-decoration: inherit">cru_free_later</a>,
<a class="font-monospace link-light" href="cru_free_now.html" style="color: #5c76ff;text-decoration: inherit">cru_free_now</a>,
<a class="font-monospace link-light" href="cru_free_partition.html" style="color: #5c76ff;text-decoration: inherit">cru_free_partition</a>,
<a class="font-monospace link-light" href="cru_function_types.html" style="color: #5c76ff;text-decoration: inherit">cru_function_types</a>,
<a class="font-monospace link-light" href="cru_hash.html" style="color: #5c76ff;text-decoration: inherit">cru_hash</a>,
<a class="font-monospace link-light" href="cru_induced.html" style="color: #5c76ff;text-decoration: inherit">cru_induced</a>,
<a class="font-monospace link-light" href="cru_inducer.html" style="color: #5c76ff;text-decoration: inherit">cru_inducer</a>,
<a class="font-monospace link-light" href="cru_kernel.html" style="color: #5c76ff;text-decoration: inherit">cru_kernel</a>,
<a class="font-monospace link-light" href="cru_kill.html" style="color: #5c76ff;text-decoration: inherit">cru_kill</a>,
<a class="font-monospace link-light" href="cru_mapreduced.html" style="color: #5c76ff;text-decoration: inherit">cru_mapreduced</a>,
<a class="font-monospace link-light" href="cru_mapreducer.html" style="color: #5c76ff;text-decoration: inherit">cru_mapreducer</a>,
<a class="font-monospace link-light" href="cru_merged.html" style="color: #5c76ff;text-decoration: inherit">cru_merged</a>,
<a class="font-monospace link-light" href="cru_merger.html" style="color: #5c76ff;text-decoration: inherit">cru_merger</a>,
<a class="font-monospace link-light" href="cru_mutated.html" style="color: #5c76ff;text-decoration: inherit">cru_mutated</a>,
<a class="font-monospace link-light" href="cru_mutator.html" style="color: #5c76ff;text-decoration: inherit">cru_mutator</a>,
<a class="font-monospace link-light" href="cru_new_kill_switch.html" style="color: #5c76ff;text-decoration: inherit">cru_new_kill_switch</a>,
<a class="font-monospace link-light" href="cru_nop.html" style="color: #5c76ff;text-decoration: inherit">cru_nop</a>,
<a class="font-monospace link-light" href="cru_order.html" style="color: #5c76ff;text-decoration: inherit">cru_order</a>,
<a class="font-monospace link-light" href="cru_order_pair.html" style="color: #5c76ff;text-decoration: inherit">cru_order_pair</a>,
<a class="font-monospace link-light" href="cru_partition_of.html" style="color: #5c76ff;text-decoration: inherit">cru_partition_of</a>,
<a class="font-monospace link-light" href="cru_plan.html" style="color: #5c76ff;text-decoration: inherit">cru_plan</a>,
<a class="font-monospace link-light" href="cru_postponed.html" style="color: #5c76ff;text-decoration: inherit">cru_postponed</a>,
<a class="font-monospace link-light" href="cru_postponer.html" style="color: #5c76ff;text-decoration: inherit">cru_postponer</a>,
<a class="font-monospace link-light" href="cru_prop.html" style="color: #5c76ff;text-decoration: inherit">cru_prop</a>,
<a class="font-monospace link-light" href="cru_prop_pair.html" style="color: #5c76ff;text-decoration: inherit">cru_prop_pair</a>,
<a class="font-monospace link-light" href="cru_pruner.html" style="color: #5c76ff;text-decoration: inherit">cru_pruner</a>,
<a class="font-monospace link-light" href="cru_qop.html" style="color: #5c76ff;text-decoration: inherit">cru_qop</a>,
<a class="font-monospace link-light" href="cru_qpred.html" style="color: #5c76ff;text-decoration: inherit">cru_qpred</a>,
<a class="font-monospace link-light" href="cru_sig.html" style="color: #5c76ff;text-decoration: inherit">cru_sig</a>,
<a class="font-monospace link-light" href="cru_split.html" style="color: #5c76ff;text-decoration: inherit">cru_split</a>,
<a class="font-monospace link-light" href="cru_splitter.html" style="color: #5c76ff;text-decoration: inherit">cru_splitter</a>,
<a class="font-monospace link-light" href="cru_strerror.html" style="color: #5c76ff;text-decoration: inherit">cru_strerror</a>,
<a class="font-monospace link-light" href="cru_stretch.html" style="color: #5c76ff;text-decoration: inherit">cru_stretch</a>,
<a class="font-monospace link-light" href="cru_stretched.html" style="color: #5c76ff;text-decoration: inherit">cru_stretched</a>,
<a class="font-monospace link-light" href="cru_stretcher.html" style="color: #5c76ff;text-decoration: inherit">cru_stretcher</a>,
<a class="font-monospace link-light" href="cru_subconnector.html" style="color: #5c76ff;text-decoration: inherit">cru_subconnector</a>,
<a class="font-monospace link-light" href="cru_top.html" style="color: #5c76ff;text-decoration: inherit">cru_top</a>,
<a class="font-monospace link-light" href="cru_tpred.html" style="color: #5c76ff;text-decoration: inherit">cru_tpred</a>,
<a class="font-monospace link-light" href="cru_united.html" style="color: #5c76ff;text-decoration: inherit">cru_united</a>,
<a class="font-monospace link-light" href="cru_uop.html" style="color: #5c76ff;text-decoration: inherit">cru_uop</a>,
<a class="font-monospace link-light" href="cru_vertex_count.html" style="color: #5c76ff;text-decoration: inherit">cru_vertex_count</a>,
<a class="font-monospace link-light" href="cru_zone.html" style="color: #5c76ff;text-decoration: inherit">cru_zone</a>
</p>
<h6 style="color: #ff5c5c;">AUTHOR</h6>
<p style="margin: 0px 40px 16px;">
Dennis Furey 
(<a class="font-monospace link-light" href="mailto:milonga@delayinsensitive.com" style="color: #5c76ff;text-decoration: inherit;">milonga@delayinsensitive.com</a>)
</p>
<h6 style="color: #ff5c5c;">PROJECT PAGE</h6>
<p style="margin: 0px 40px 16px;">
<a class="font-monospace link-light" href="https://github.com/gueststar/cru" style="color: #5c76ff;text-decoration: inherit;">https://github.com/gueststar/cru</a>
</p>
<div class="row" style="height: 32px;padding: 20px 0px;"><div class="col-5 col-sm-5 col-md-4"><h5 style="color: var(--bs-gray);">CRU VERSION 0.5.2</h5></div>
<div class="col-2 col-sm-2 col-md-4"><h5 class="text-center" style="color: var(--bs-gray);">July 07, 2022</h5></div>
<div class="col-5 col-sm-5 col-md-4"><h5 class="text-end" style="color: var(--bs-gray);">CRU_FILTER (7)</h5></div></div>
</body>
